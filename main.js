(()=>{"use strict";class t{constructor(e,c){this.id=t.incrementId(),this.title=e,this.description=c,this.todos=[],this.isActive=!0}static incrementId(){return this.latestId?this.latestId++:this.latestId=1,this.latestId}}const e=t;class c{constructor(t,e){this.id=c.incrementId(),this.title=t,this.date=e,this.isCrossed=!1}static incrementId(){return this.latestId?this.latestId++:this.latestId=1,this.latestId}}const o=c,n=[],s=document.querySelector(".modal-project"),d=document.querySelector(".modal-todo"),i=document.querySelector(".btn-new"),a=document.querySelector(".btn-add"),r=document.querySelectorAll(".btn-cross"),l=document.querySelectorAll(".btn-submit"),u=document.querySelectorAll("form");function m(t){const e=document.querySelector(".current-title"),c=document.querySelector(".current-description");if(!t)return e.textContent="",void(c.textContent="");const o=document.querySelectorAll(".project");n.forEach((n=>{if(+t.id===n.id){if(e.textContent===t.children[0].textContent)return;o.forEach((t=>{t.classList.remove("active")})),t.classList.add("active"),e.textContent=n.title,c.textContent=n.description,document.querySelectorAll(".todo").forEach((t=>{t.remove()})),n.todos.forEach((t=>{const e=document.querySelector(".todos"),c=document.createElement("li"),o=document.createElement("p"),n=document.createElement("h5"),s=document.createElement("i"),d=document.createElement("i");c.classList.add("todo"),s.className="fa-solid fa-pen todo-edit",d.className="fa-solid fa-trash todo-delete",o.textContent=t.title,n.textContent=t.date,c.append(o,n,s,d),e.append(c)}))}}))}function h(t){const e=document.querySelector(".grid-left"),c=document.querySelectorAll(".todo"),o=document.querySelector(".current-title"),s=document.querySelector(".current-description"),d=document.createElement("div"),i=document.createElement("p"),a=document.createElement("a"),r=document.createElement("i");d.classList.add("project"),t.isActive&&d.classList.add("active"),d.id=t.id,d.addEventListener("click",(t=>{"DIV"!==t.target.tagName&&"P"!==t.target.tagName||m(d)})),i.classList.add("project-title"),a.classList.add("btn-trash"),r.classList.add("fa-solid"),r.classList.add("fa-trash-can"),a.addEventListener("click",(()=>{d.classList.contains("active")&&function(t){n.forEach(((e,c)=>{+t.id===e.id&&(n.splice(c,1),document.querySelectorAll(".todo").forEach((t=>{t.remove()})),m(t.previousElementSibling),t.remove())}))}(d)})),i.textContent=t.title,o.textContent=t.title,s.textContent=t.description,c.forEach((t=>{t.remove()})),a.append(r),d.append(i,a),e.append(d)}function f(){s.classList.add("hide"),d.classList.add("hide")}!function(){const t=new e("Essentials","A place to store all the essential stuff I gotta get done.");n.push(t),h(t)}(),i.addEventListener("click",(()=>{d.classList.remove("hide")})),a.addEventListener("click",(()=>{s.classList.remove("hide")})),r.forEach((t=>{t.addEventListener("click",(()=>{f()}))})),l.forEach((t=>{t.addEventListener("click",(t=>{t.target.classList.contains("btn-project")?function(){const t=document.querySelector(".input-title"),c=document.querySelector(".input-description"),o=t.value,s=c.value;if(!o||!s)return;n.forEach((t=>{t.isActive=!1,document.querySelectorAll(".project").forEach((t=>{t.classList.contains("active")&&t.classList.remove("active")}))}));const d=new e(o,s);n.push(d),h(d),f()}():function(){const t=document.querySelector(".todo-title"),e=document.querySelector(".todo-date");if(!t||!e)return;const c=new o(t.value,e.value);n.forEach((t=>{t.isActive&&(t.todos.push(c),function(t){const e=document.querySelector(".todos"),c=document.createElement("li"),o=document.createElement("p"),n=document.createElement("h5"),s=document.createElement("i"),d=document.createElement("i");c.classList.add("todo"),c.id=t.id,s.className="fa-solid fa-pen todo-edit",d.className="fa-solid fa-trash todo-delete",o.textContent=t.title,n.textContent=t.date,c.append(o,n,s,d),e.append(c),f()}(c))}))}()}))})),window.document.addEventListener("click",(t=>{t.target.classList.contains("modal")&&t.target.classList.add("hide")})),u.forEach((t=>{t.addEventListener("submit",(t=>{t.preventDefault()}))}))})();